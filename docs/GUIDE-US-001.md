# 유저 스토리 작성 가이드 (User Story Writing Guide)

| 문서 ID       | GUIDE-US-001          |
| :------------ | :--------------------- |
| **문서 버전** | 1.0                    |
| **프로젝트** | AssetMind              |
| **작성자** | 김준수                 |
| **작성일** | 2025년 12월 14일       |

---

## 1. 개요
본 문서는 AssetMind 프로젝트의 기능 요구사항을 사용자 관점에서 정의하는 '유저 스토리(User Story)'의 작성 표준을 정의한다. 모든 팀원은 이 가이드에 따라 `US-[주제약어]-[일련번호]` 문서를 작성해야 하며, 이는 추후 개발 작업(Task) 할당 및 테스트 케이스(TCS) 작성의 기준이 된다.

---

## 2. 유저 스토리 구성 요소
하나의 유저 스토리는 다음의 핵심 요소들을 반드시 포함해야 한다.

| 항목 | 설명 | 비고 |
| :--- | :--- | :--- |
| **Story ID** | `US-[주제약어]-[번호]` 형식 | 예: `US-UI-001` |
| **제목** | 스토리의 핵심 내용을 요약한 한 문장 | |
| **설명 (Description)** | **Who(누가), What(무엇을), Why(왜)** 형식을 따른 서술 | 3.1절 참조 |
| **인수 조건 (AC)** | 개발 완료 여부를 판단할 수 있는 구체적 기준 | 3.2절 참조 |
| **우선순위 (Priority)** | P1(필수), P2(권장), P3(선택) | |
| **스토리 포인트** | 개발 난이도 및 소요 시간 추정치 | 피보나치 수열(1, 2, 3, 5, 8...) 사용 |

---

## 3. 상세 작성 규칙

### 3.1. 스토리 설명 (Description) 작성법
사용자의 역할과 목적, 그리고 가치를 명확히 하기 위해 다음 템플릿을 준수한다.

> **[역할(Role)]**로서,
> **[기능/행동(Feature)]**을 하고 싶다.
> 왜냐하면 **[가치/목적(Benefit)]**이기 때문이다.

* **Role**: 시스템을 사용하는 구체적인 사용자 페르소나 (예: 개인 투자자, 시스템 관리자, 데이터 분석가)
* **Feature**: 시스템이 제공해야 하는 기능이나 사용자가 취하는 행동
* **Benefit**: 해당 기능을 통해 얻을 수 있는 비즈니스 가치나 해결되는 문제

### 3.2. 인수 조건 (Acceptance Criteria) 작성법
기능이 올바르게 동작하는지 검증하기 위해 **Gherkin 문법(Given-When-Then)** 사용을 권장한다. 이는 추후 QA 및 테스트 케이스 작성 시 그대로 활용된다.

> **Given (조건)**: ~한 상황에서 / ~한 페이지에 있을 때
> **When (행동)**: 사용자가 ~을 입력하고 / ~버튼을 클릭하면
> **Then (결과)**: 시스템은 ~을 보여준다 / ~ 데이터가 저장된다

---

## 4. 유저 스토리 품질 기준 (INVEST 원칙)
좋은 유저 스토리는 다음의 **INVEST** 원칙을 만족해야 한다.

1.  **I (Independent)**: 가능한 한 다른 스토리와 독립적이어야 한다.
2.  **N (Negotiable)**: 내용은 확정된 계약서가 아니며, 팀원 간 협의가 가능해야 한다.
3.  **V (Valuable)**: 사용자나 고객에게 가치를 제공해야 한다.
4.  **E (Estimable)**: 개발자가 구현 난이도나 시간을 추정할 수 있어야 한다.
5.  **S (Small)**: 1개의 스프린트 내에 완료할 수 있을 만큼 작아야 한다.
6.  **T (Testable)**: 성공/실패를 명확히 테스트할 수 있어야 한다.

---

## 5. UI/UX 상세 명세 작성 가이드 (Frontend Specifications)
단순한 화면 구성을 넘어, 실제 구현 시 필요한 상태(State)와 로직을 명확히 정의하기 위해 다음 항목들을 기술한다. 이는 프론트엔드 개발 시 혼선을 줄이고 예외 처리를 누락하지 않도록 돕는다.

### 5.1. 주요 컴포넌트 (View Components)
해당 스토리 구현에 필요한 핵심 UI 컴포넌트를 정의한다.

| 항목 | 설명 | 예시 |
| :--- | :--- | :--- |
| **컴포넌트명** | UI를 구성하는 단위 요소 및 역할 정의 | `StockChart`: 주가 변동 그래프 표시 |
| **재사용 여부** | 공통 컴포넌트 사용 여부 또는 신규 개발 필요 여부 | `CommonButton` 재사용, `RiskGauge` 신규 개발 |

### 5.2. UI 상태 정의 (UI States)
사용자 경험(UX)을 고려하여 데이터 흐름에 따른 4가지 핵심 상태를 정의한다.

* **Initial/Loading**: 데이터 요청 후 응답을 기다리는 동안 보여줄 화면 (예: 스켈레톤 UI, 로딩 스피너)
* **Success/Active**: 데이터가 정상적으로 로드되어 사용자에게 정보를 제공하는 상태
* **Validation/Empty**: 검색 결과가 없거나(Empty), 입력값이 유효하지 않을 때(Invalid) 보여줄 안내 문구 및 UI
* **Error**: API 호출 실패(500), 네트워크 오류 등 시스템 에러 발생 시 사용자 피드백 (예: 토스트 메시지, 재시도 버튼)

### 5.3. 인터랙션 & 로직 (Interaction & Logic)
사용자 입력에 대한 검증 및 화면 흐름을 정의한다.

* **Validation Rules**: 입력값에 대한 제약 조건 기술
    * *(예시)* 실시간 유효성 검사, 필수 입력 항목 체크, 이메일/비밀번호 정규식 등
* **Flow**: 사용자의 행동에 따른 화면 이동 및 변화
    * *(예시)* '저장' 버튼 클릭 → 로딩 스피너 노출 → 성공 시 모달 닫기 및 리스트 갱신
* **Animation**: (필요 시) 화면 전환 효과 또는 마이크로 인터랙션 기술

---

## 6. 작성 예시

### 예시 1: 포트폴리오 대시보드 조회 (US-UI)

| 항목 | 내용 |
| :--- | :--- |
| **Story ID** | `US-UI-010` |
| **제목** | 투자 포트폴리오 요약 대시보드 조회 |
| **설명** | **Role**: 개인 투자자로서<br>**Feature**: 로그인 직후 메인 대시보드에서 나의 현재 포트폴리오 자산 배분 현황과 수익률을 그래프와 숫자로 확인하고 싶다.<br>**Benefit**: 왜냐하면 한눈에 내 자산 상태를 파악하고 리스크를 점검해야 하기 때문이다. |
| **인수 조건** | 1. **Given** 사용자가 로그인 상태이며, 메인 페이지(/dashboard)에 접속했을 때,<br>2. **When** 데이터 로딩이 완료되면,<br>3. **Then** 화면 상단에 '총 자산 평가액'과 '전일 대비 손익(%, 금액)'이 표시되어야 한다.<br>4. **Then** 자산 구성(주식, 채권, 현금) 비율을 나타내는 도넛 차트(Donut Chart)가 렌더링되어야 한다.<br>5. **Then** 차트의 각 섹션에 마우스를 올리면(Hover), 해당 자산군의 구체적인 평가 금액과 비중(%)이 툴팁으로 표시되어야 한다. |
| **UI/UX 명세** | **[Components]**<br>- `DashboardLayout` (Common Layout)<br>- `AssetSummaryCard` (New): 자산 총액 및 수익률 표시<br>- `AllocationChart` (New): Recharts 라이브러리 활용 도넛 차트<br><br>**[States]**<br>- **Initial/Loading**: 카드 영역 크기에 맞춘 Skeleton UI 깜빡임 효과 적용<br>- **Success**: 데이터 정상 로드 시 차트 애니메이션(Draw effect)과 함께 정보 노출<br>- **Empty**: 구성된 포트폴리오가 없을 경우, 차트 대신 "나만의 포트폴리오를 만들어보세요" 문구와 `[포트폴리오 생성하기]` CTA 버튼 노출<br>- **Error**: "자산 정보를 불러오지 못했습니다." 토스트 메시지 출력 및 카드 내 `[새로고침]` 버튼 제공<br><br>**[Interaction & Logic]**<br>- **Format**: 모든 금액은 3자리마다 콤마(,) 표기 (예: 1,234,560원)<br>- **Color Logic**: 수익률 양수(+)일 경우 <span style="color:red">Red(#FF0000)</span>, 음수(-)일 경우 <span style="color:blue">Blue(#0000FF)</span>, 0일 경우 Black(#333333) 적용 |
| **우선순위** | P1 (High) |
| **포인트** | 5 |
